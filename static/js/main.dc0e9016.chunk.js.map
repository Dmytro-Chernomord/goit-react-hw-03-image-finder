{"version":3,"sources":["components/default.jpg","components/Searchbar/Searchbar.js","components/ImageGallery/ImageGallery.js","components/Modal/Modal.js","components/ImageGalleryItem/ImageGalleryItem.js","components/Loader/Loader.js","components/Button/Button.js","components/App.js","index.js"],"names":["module","exports","Searchbar","state","input","handleInput","e","setState","currentTarget","value","handleSubmit","preventDefault","props","onSubmit","className","this","type","onChange","autoComplete","autoFocus","placeholder","Component","ImageGallery","children","modalRoot","document","querySelector","Modal","escapeClose","code","toogleModal","closeModal","event","target","window","addEventListener","removeEventListener","createPortal","onClick","src","img","alt","defaultProps","defImg","ImageGalleryItem","catchGrossImg","map","el","key","id","largeImageURL","webformatURL","tag","Spiner","color","height","width","React","Button","API_KEY","App","currentPage","query","isModalVisible","isLoading","error","largeImage","scroll","scrollTo","top","documentElement","scrollHeight","behavior","handleQuery","url","console","log","hanleOpenmodal","fetchPictures","axios","get","then","res","prevState","data","hits","catch","finally","prevProps","shoudBeVisibleLoadMoreButton","length","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.dc0e9016.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/default.440b9b23.jpg\";","import React, { Component } from 'react';\n\nexport class Searchbar extends Component {\n  state = {\n    input: '',\n  };\n  handleInput = e => {\n    this.setState({ input: e.currentTarget.value });\n  };\n  handleSubmit = e => {\n    e.preventDefault();\n    this.props.onSubmit(this.state.input);\n    this.setState({ input: '' });\n  };\n  render() {\n    return (\n      <header className=\"Searchbar\">\n        <form onSubmit={this.handleSubmit} className=\"SearchForm\">\n          <button type=\"submit\" className=\"SearchForm-button\">\n            <span className=\"SearchForm-button-label\">Search</span>\n          </button>\n\n          <input\n            onChange={this.handleInput}\n            className=\"SearchForm-input\"\n            type=\"text\"\n            value={this.state.input}\n            autoComplete=\"off\"\n            autoFocus\n            placeholder=\"Search images and photos\"\n          />\n        </form>\n      </header>\n    );\n  }\n}\n\nexport default Searchbar;\n","import React from 'react';\n\nconst ImageGallery = ({ children }) => (\n  <ul className=\"ImageGallery\">{children}</ul>\n);\n\nexport default ImageGallery;\n","import React, { Component } from 'react';\nimport { createPortal } from 'react-dom';\nimport defImg from '../default.jpg';\n\nconst modalRoot = document.querySelector('#modal-root');\n\nexport class Modal extends Component {\n  static defaultProps = {\n    img: defImg,\n  };\n  escapeClose = e => {\n    if (e.code === 'Escape') {\n      this.props.toogleModal();\n    }\n  };\n  componentDidMount() {\n    window.addEventListener('keydown', this.escapeClose);\n  }\n  componentWillUnmount() {\n    window.removeEventListener('keydown', this.escapeClose);\n  }\n  closeModal = event => {\n    if (event.currentTarget === event.target) {\n      this.props.toogleModal();\n    }\n  };\n  render() {\n    return createPortal(\n      <div onClick={this.closeModal} className=\"Overlay\">\n        <div className=\"Modal\">\n          <img src={this.props.img} alt=\"\" />\n        </div>\n      </div>,\n      modalRoot,\n    );\n  }\n}\n\nexport default Modal;\n","import React from 'react';\n\nconst ImageGalleryItem = ({ img, catchGrossImg }) => {\n  return img.map(el => (\n    <li className=\"ImageGalleryItem\" key={el.id}>\n      <img\n        onClick={() => catchGrossImg(el.largeImageURL)}\n        className=\"ImageGalleryItem-image\"\n        src={el.webformatURL}\n        alt={el.tag}\n        id={el.id}\n        key={el.id}\n      />\n    </li>\n  ));\n};\n\nexport default ImageGalleryItem;\n","import Loader from 'react-loader-spinner';\nimport React from 'react';\n\nexport default class Spiner extends React.Component {\n  //other logic\n  render() {\n    return (\n      <div className=\"loader\">\n        <Loader\n          type=\"ThreeDots\"\n          color=\"#3f51b5\"\n          height={100}\n          width={100}\n          // timeout={3000} //3 secs\n        />\n      </div>\n    );\n  }\n}\n","import React from 'react';\n\nconst Button = ({ onClick }) => {\n  return (\n    <button className=\"Button\" onClick={onClick} type=\"button\">\n      load more\n    </button>\n  );\n};\n\nexport default Button;\n","import React, { Component } from 'react';\nimport axios from 'axios';\nimport Searchbar from './Searchbar';\nimport ImageGallery from './ImageGallery/ImageGallery';\nimport Modal from './Modal/Modal';\nimport ImageGalleryItem from './ImageGalleryItem/ImageGalleryItem';\nimport 'react-loader-spinner/dist/loader/css/react-spinner-loader.css';\nimport Spiner from './Loader/Loader';\nimport Button from './Button/Button';\n\nconst API_KEY = '18219611-d680c916f1df926335f357bd5';\n\nexport class App extends Component {\n  state = {\n    currentPage: 1,\n    query: '',\n    img: [],\n    isModalVisible: false,\n    isLoading: false,\n    error: null,\n    largeImage: '',\n  };\n\n  componentDidUpdate(prevProps, prevState) {\n    if (prevState.query !== this.state.query) {\n      this.fetchPictures();\n    }\n  }\n  scroll = () => {\n    window.scrollTo({\n      top: document.documentElement.scrollHeight,\n      behavior: 'smooth',\n    });\n  };\n  handleQuery = e => {\n    this.setState({ query: e, currentPage: 1, img: [], error: null });\n  };\n\n  catchGrossImg = url => {\n    console.log(url);\n    this.setState({ largeImage: url });\n    this.hanleOpenmodal();\n  };\n\n  fetchPictures = () => {\n    this.setState({ isLoading: true });\n    axios\n      .get(\n        `https://pixabay.com/api/?q=${this.state.query}&page=${this.state.currentPage}&key=${API_KEY}&image_type=photo&orientation=horizontal&per_page=12`,\n      )\n      .then(res =>\n        this.setState(prevState => ({\n          img: [...prevState.img, ...res.data.hits],\n          currentPage: prevState.currentPage + 1,\n        })),\n      )\n      .then(() => {\n        if (this.state.currentPage > 2) {\n          this.scroll();\n        }\n      })\n      .catch(error => this.setState({ error }))\n      .finally(() => {\n        this.setState({ isLoading: false });\n        // if (this.state.currentPage > 2) {\n        //   this.scroll();\n        // }\n      });\n  };\n  hanleOpenmodal = () => {\n    this.setState({ isModalVisible: !this.state.isModalVisible });\n  };\n  render() {\n    const shoudBeVisibleLoadMoreButton =\n      this.state.img.length > 0 && !this.state.isLoading;\n    return (\n      <div className=\"App\">\n        {this.state.isModalVisible && (\n          <Modal\n            toogleModal={this.hanleOpenmodal}\n            img={this.state.largeImage}\n          />\n        )}\n        <Searchbar onSubmit={this.handleQuery} />\n\n        {this.state.img.length > 0 ? (\n          <ImageGallery>\n            <ImageGalleryItem\n              catchGrossImg={this.catchGrossImg}\n              img={this.state.img}\n            />\n          </ImageGallery>\n        ) : null}\n        {this.state.isLoading && <Spiner />}\n        {shoudBeVisibleLoadMoreButton && (\n          <Button onClick={this.fetchPictures} />\n        )}\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './components/App';\nimport 'modern-normalize/modern-normalize.css';\nimport './styles.css';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}